import{r as j,j as s,e as q,L as N,R,A as E,f as B,g as C,h as F}from"./index-DgPPTmja.js";import{F as b,b as v,u as S}from"./ToasterSuccess-Cgl3KfNN.js";import{B as w}from"./BgImageWrapper-ChSepSPH.js";const L="_authContainer_pynqd_1",W="_authTitle_pynqd_6",f="_authDescription_pynqd_13",k="_authForm_pynqd_21",O="_authInput_pynqd_28",T="_loaderOverlay_pynqd_38",A="_authBtn_pynqd_57",I="_btnLogin_pynqd_69",$="_authText_pynqd_78",P="_authLink_pynqd_86",D="_inputWrapper_pynqd_91",M="_inputError_pynqd_110",z="_inputSuccess_pynqd_114",G="_iconRight_pynqd_118",H="_iconRightError_pynqd_119",J="_iconRightSuccess_pynqd_120",K="_successMessage_pynqd_137",Q="_authError_pynqd_143",U="_authBgWrapper_pynqd_157",V="_authFormContainer_pynqd_212",X="_authBg_pynqd_157",t={authContainer:L,authTitle:W,authDescription:f,authForm:k,authInput:O,loaderOverlay:T,authBtn:A,btnLogin:I,authText:$,authLink:P,inputWrapper:D,inputError:M,inputSuccess:z,iconRight:G,iconRightError:H,iconRightSuccess:J,successMessage:K,authError:Q,authBgWrapper:U,authFormContainer:V,authBg:X},_=({type:e="text",...o})=>{const[u,a]=S(o),[r,h]=R.useState(!1),c=a.touched&&a.error,i=a.touched&&!a.error,n=e==="password",p=`${t.authInput} ${c?t.inputError:i?t.inputSuccess:""}`;return s.jsxs("div",{className:t.inputWrapper,children:[s.jsx("input",{className:p,type:n&&r?"text":e,...u,...o}),n&&s.jsx("span",{className:t.iconRight,onClick:()=>h(!r),children:r?s.jsx(E,{}):s.jsx(B,{})}),!n&&c&&s.jsx("span",{className:t.iconRightError,children:s.jsx(C,{})}),!n&&i&&s.jsx("span",{className:t.iconRightSuccess,children:s.jsx(F,{})}),n&&i&&s.jsx("div",{className:t.successMessage,children:"Password is secure"}),c&&s.jsx("div",{className:t.authError,children:a.error})]})},ts=({fields:e=[],initialValues:o,validationSchema:u,onSubmit:a,title:r,description:h,buttonText:c,navigationText:i,navigationLinkText:n,navigationLinkHref:p,isLoading:l,variant:x="login"})=>{const m=j.useRef(null),g=x==="register"?`${t.authBtn} ${t.btnRegister}`:`${t.authBtn} ${t.btnLogin}`;return s.jsxs("div",{className:t.authContainer,children:[l&&s.jsx("div",{className:t.loaderOverlay,children:s.jsx(q,{})}),s.jsx("div",{ref:m,className:t.authBgWrapper,children:s.jsx(w,{parentRef:m,className:t.authBg})}),s.jsxs("div",{className:t.authFormContainer,"aria-hidden":l,children:[s.jsx("h2",{className:t.authTitle,children:r}),s.jsx("p",{className:t.authDescription,children:h}),s.jsx(b,{initialValues:o,validationSchema:u,onSubmit:(d,y)=>{a(d,y)},children:({isSubmitting:d})=>s.jsxs(v,{className:t.authForm,children:[e.includes("name")&&s.jsx(_,{name:"name",placeholder:"Name"}),e.includes("email")&&s.jsx(_,{name:"email",type:"email",placeholder:"Email"}),e.includes("password")&&s.jsx(_,{name:"password",type:"password",placeholder:"Password"}),s.jsx("button",{type:"submit",disabled:d||l,className:g,children:c})]})}),s.jsxs("p",{className:t.authText,children:[i," ",s.jsx(N,{to:p,className:t.authLink,children:n})]})]})]})};export{ts as A};
